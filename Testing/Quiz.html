<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>A&P Mobile Quiz</title>
<style>
    :root {
        --primary: #007AFF; /* iOS Blue */
        --bg: #F2F2F7;      /* iOS Gray Background */
        --card: #FFFFFF;
        --text: #000000;
        --correct: #34C759;
        --wrong: #FF3B30;
    }

    body {
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
        background-color: var(--bg);
        color: var(--text);
        margin: 0;
        padding: 20px 16px;
        -webkit-text-size-adjust: 100%;
    }

    h1 {
        text-align: center;
        font-size: 24px;
        margin-bottom: 24px;
        color: #1c1c1e;
    }

    /* Navigation Tabs */
    .nav {
        display: flex;
        background: #e5e5ea;
        border-radius: 10px;
        padding: 3px;
        margin-bottom: 25px;
    }

    .nav button {
        flex: 1;
        border: none;
        background: none;
        padding: 10px;
        font-size: 15px;
        font-weight: 600;
        border-radius: 8px;
        cursor: pointer;
    }

    .nav button.active {
        background: #fff;
        box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    }

    /* Quiz Styling */
    .q-block {
        background: var(--card);
        padding: 20px;
        border-radius: 16px;
        margin-bottom: 20px;
        box-shadow: 0 2px 8px rgba(0,0,0,0.05);
    }

    .q-text {
        font-size: 17px;
        font-weight: 600;
        margin-bottom: 15px;
        line-height: 1.4;
    }

    .opt {
        display: flex;
        align-items: center;
        padding: 12px 0;
        border-bottom: 1px solid #f0f0f0;
        font-size: 16px;
    }
    
    .opt:last-child { border-bottom: none; }

    input[type="radio"] {
        margin-right: 12px;
        transform: scale(1.3);
        accent-color: var(--primary);
    }

    /* Flashcard Styling */
    .card-container {
        perspective: 1000px;
        min-height: 250px;
        cursor: pointer;
    }

    .flashcard {
        background: var(--card);
        border-radius: 20px;
        padding: 30px 20px;
        min-height: 250px;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        text-align: center;
        box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        transition: transform 0.3s;
    }

    .card-label {
        color: #8e8e93;
        font-size: 13px;
        text-transform: uppercase;
        letter-spacing: 1px;
        margin-bottom: 10px;
    }

    .card-content {
        font-size: 20px;
        font-weight: 600;
        line-height: 1.4;
    }

    .tap-hint {
        margin-top: 20px;
        font-size: 14px;
        color: var(--primary);
        font-weight: 500;
    }

    /* Buttons */
    .btn-main {
        background: var(--primary);
        color: white;
        border: none;
        width: 100%;
        padding: 16px;
        border-radius: 12px;
        font-size: 17px;
        font-weight: 700;
        margin-top: 10px;
    }

    .controls {
        display: flex;
        gap: 10px;
        margin-top: 20px;
    }

    .btn-sec {
        flex: 1;
        padding: 14px;
        border-radius: 12px;
        border: none;
        font-size: 16px;
        background: #d1d1d6;
        color: black;
        font-weight: 600;
    }

    .btn-green { background: var(--correct); color: white; }

    /* Results */
    .feedback {
        margin-top: 10px;
        font-weight: 700;
        padding: 10px;
        border-radius: 8px;
    }
    .correct { background: #e8f5e9; color: var(--correct); }
    .incorrect { background: #ffebee; color: var(--wrong); }
    
    #score-display {
        text-align: center;
        font-size: 22px;
        font-weight: 800;
        margin: 20px 0;
        color: #1c1c1e;
    }
</style>
</head>
<body>

    <h1>ðŸ§  A&P Study Suite</h1>

    <div class="nav">
        <button id="tab-quiz" class="active" onclick="switchMode('quiz')">Quiz Mode</button>
        <button id="tab-card" onclick="switchMode('card')">Flashcards</button>
    </div>

    <div id="quiz-view">
        <div id="quiz-list"></div>
        <button class="btn-main" id="submit-btn" onclick="gradeQuiz()">Submit Answers</button>
        <div id="score-display"></div>
        <button class="btn-main" id="retry-btn" style="display:none; background: var(--correct);" onclick="initQuiz()">Restart Quiz</button>
    </div>

    <div id="card-view" style="display:none;">
        <div class="card-container" onclick="flipCard()">
            <div class="flashcard" id="active-card">
                <div class="card-label">Question</div>
                <div class="card-content" id="card-text">Loading...</div>
                <div class="tap-hint">Tap to flip</div>
            </div>
        </div>
        <div class="controls">
            <button class="btn-sec" onclick="nextCard(-1)">Prev</button>
            <button class="btn-sec btn-green" onclick="masterCard()">Mastered</button>
            <button class="btn-sec" onclick="nextCard(1)">Next</button>
        </div>
        <p style="text-align:center; color:#8e8e93; margin-top:15px;" id="card-counter"></p>
    </div>

<script>
    // Full dataset from your request
    const db = [
        {"question": "Animals have digestive systems based primarily on which of the following?", "options": ["Body weight and height", "Teeth and diet", "Atmospheric pressure", "Brain size"], "answer": "Teeth and diet"},
        {"question": "Which of these is a monogastric herbivore?", "options": ["Cow", "Goat", "Horse", "Sheep"], "answer": "Horse"},
        {"question": "What happens to the digestive system's position relative to the respiratory system at the pharynx?", "options": ["It moves from dorsal to ventral", "It moves from ventral to dorsal", "It stays lateral", "It disappears"], "answer": "It moves from ventral to dorsal"},
        {"question": "The pyloric sphincter serves as the opening to which structure?", "options": ["Esophagus", "Jejunum", "Duodenum", "Cecum"], "answer": "Duodenum"},
        {"question": "Which of the following is NOT an accessory gland of the GI tract?", "options": ["Liver", "Pancreas", "Gall Bladder", "Spleen"], "answer": "Spleen"},
        {"question": "Which salivary gland is listed among the four main glands in the study guide?", "options": ["Adrenal", "Zygomatic", "Pituitary", "Thyroid"], "answer": "Zygomatic"},
        {"question": "Jaundice (icterus) typically indicates issues with which organ?", "options": ["Heart", "Lungs", "Liver", "Kidneys"], "answer": "Liver"},
        {"question": "What is the clinical appearance of an animal with jaundice?", "options": ["Blue skin", "Yellow skin", "Red rashes", "Loss of hair"], "answer": "Yellow skin"},
        {"question": "What is the primary muscle issue in Megaesophagus?", "options": ["Muscles are too small", "Muscles are abnormally enlarged", "Muscles are missing", "Muscles are turning into bone"], "answer": "Muscles are abnormally enlarged"},
        {"question": "How long should a pet with Megaesophagus stay upright after eating?", "options": ["5 minutes", "10 minutes", "30 minutes", "2 hours"], "answer": "30 minutes"},
        {"question": "The omentum connects the stomach to which part of the body?", "options": ["The spine", "The abdominal walls", "The diaphragm", "The lungs"], "answer": "The abdominal walls"},
        {"question": "Which structure provides routes for blood vessels and nerves to travel through the digestive system?", "options": ["Omentum", "Mesentery", "Esophagus", "Pylorus"], "answer": "Mesentery"},
        {"question": "In the fundus, which cells produce hydrochloric acid (HCl)?", "options": ["Chief cells", "Parietal cells", "Endocrine cells", "Mucous neck cells"], "answer": "Parietal cells"},
        {"question": "What is the function of 'Chief cells' in the fundus?", "options": ["Secrete mucus", "Produce HCl", "Secrete pepsinogen", "Produce gastrin"], "answer": "Secrete pepsinogen"},
        {"question": "Where is chyme produced?", "options": ["Mouth", "Esophagus", "Stomach", "Large Intestine"], "answer": "Stomach"},
        {"question": "Why does chyme move slowly into the duodenum?", "options": ["To prevent choking", "To allow for maximum nutrient absorption", "Because it is too heavy", "To cool down"], "answer": "To allow for maximum nutrient absorption"},
        {"question": "What is the primary role of mucus in the stomach?", "options": ["To change the color of food", "To protect against pathogens, toxins, and acid", "To speed up movement", "To dehydrate the food"], "answer": "To protect against pathogens, toxins, and acid"},
        {"question": "Which hormone produced in the fundus stimulates HCl production?", "options": ["Insulin", "Gastrin", "Estrogen", "Thyroxine"], "answer": "Gastrin"},
        {"question": "What is the main function of the large intestine?", "options": ["Protein breakdown with acid", "Absorption of water and ions", "Storage of bile", "Mechanical grinding of food"], "answer": "Absorption of water and ions"},
        {"question": "Which of the following is a sign of GDV (Gastric Dilatation-Volvulus)?", "options": ["Increased appetite", "Deep sleep", "Retching with nothing produced", "Excessive purring"], "answer": "Retching with nothing produced"},
        {"question": "What does the reticulum look like internally?", "options": ["Smooth like glass", "Folded like a fan", "Like a honeycomb", "Like sandpaper"], "answer": "Like a honeycomb"},
        {"question": "Which structure in the cow has folds of mucosa with papillae?", "options": ["Rumen", "Reticulum", "Omasum", "Abomasum"], "answer": "Omasum"},
        {"question": "Hardware disease occurs when a metallic object perforates the wall of the:", "options": ["Rumen", "Reticulum", "Omasum", "Esophagus"], "answer": "Reticulum"},
        {"question": "When a cow eructates, what two main gases are released?", "options": ["Oxygen and Nitrogen", "CO2 and Methane", "Helium and Argon", "CO2 and Oxygen"], "answer": "CO2 and Methane"},
        {"question": "Where are Volatile Fatty Acids (VFAs) produced in the cow?", "options": ["Omasum via filtration", "Rumen via fermentation", "Abomasum via acid", "Reticulum via grinding"], "answer": "Rumen via fermentation"},
        {"question": "What is the function of the esophageal groove in young ruminants?", "options": ["To store extra water", "To allow milk to bypass the reticulorumen", "To grind up grass", "To produce saliva"], "answer": "To allow milk to bypass the reticulorumen"},
        {"question": "What causes bloat in a cow?", "options": ["Lack of water", "Accumulation of gases in the reticulorumen", "Eating too fast", "Exercise after eating"], "answer": "Accumulation of gases in the reticulorumen"},
        {"question": "Which of these is a ruminant?", "options": ["Horse", "Rabbit", "Goat", "Pig"], "answer": "Goat"},
        {"question": "Pepsinogen is the precursor to which active enzyme?", "options": ["Trypsin", "Pepsin", "Amylase", "Lipase"], "answer": "Pepsin"},
        {"question": "The hepatic portal vein, hepatic artery, and bile ducts form the:", "options": ["Gastric Triangle", "Hepatic Triad", "Biliary Square", "Portal Pentagon"], "answer": "Hepatic Triad"},
        {"question": "In the horse, which flexure occurs between the right ventral colon and left ventral colon?", "options": ["Pelvic flexure", "Diaphragmatic flexure", "Sternal flexure", "Sigmoid flexure"], "answer": "Sternal flexure"},
        {"question": "Which flexure is located between the left ventral and left dorsal colon?", "options": ["Pelvic flexure", "Sternal flexure", "Diaphragmatic flexure", "Transverse flexure"], "answer": "Pelvic flexure"},
        {"question": "What is the correct order of the horse's colon after the left dorsal colon?", "options": ["Cecum -> Anus", "Diaphragmatic flexure -> Right dorsal colon", "Sternal flexure -> Rectum", "Pelvic flexure -> Ventral colon"], "answer": "Diaphragmatic flexure -> Right dorsal colon"},
        {"question": "Peristalsis is described as:", "options": ["Mixing and breaking up food", "Movement of food in a wave-like motion", "Chemical breakdown of acid", "Voluntary chewing"], "answer": "Movement of food in a wave-like motion"},
        {"question": "What is 'Rhythmic Segmentation'?", "options": ["A long-distance wave", "Breaking up and mixing the food bolus", "Swallowing food", "Producing bile"], "answer": "Breaking up and mixing the food bolus"},
        {"question": "Which part of the nerve cell receives the initial stimuli?", "options": ["Axon", "Myelin sheath", "Dendrite", "Node of Ranvier"], "answer": "Dendrite"},
        {"question": "What is the function of the myelin sheath?", "options": ["To protect the cell from bacteria", "To conduct impulses faster", "To store oxygen", "To produce neurotransmitters"], "answer": "To conduct impulses faster"},
        {"question": "Afferent neurons carry information in which direction?", "options": ["From the spine to the muscles", "From the brain to the heart", "From the body into the spine", "From one muscle to another"], "answer": "From the body into the spine"},
        {"question": "Efferent neurons are responsible for:", "options": ["Sensory input", "Carrying motor-movement signals OUT of the spine", "Detecting heat", "Thinking"], "answer": "Carrying motor-movement signals OUT of the spine"},
        {"question": "The Diencephalon consists of the Thalamus, Hypothalamus, and the:", "options": ["Cerebellum", "Pituitary gland", "Medulla", "Pons"], "answer": "Pituitary gland"},
        {"question": "Which organ acts as the link between the endocrine and nervous systems?", "options": ["Thalamus", "Hypothalamus", "Axon terminal", "Schwann cell"], "answer": "Hypothalamus"},
        {"question": "The Central Nervous System (CNS) is made of:", "options": ["Cranial nerves and spinal nerves", "Brain and spinal cord", "Muscles and tendons", "Dendrites and Axons"], "answer": "Brain and spinal cord"},
        {"question": "Which cells are found specifically in the Peripheral Nervous System (PNS)?", "options": ["Oligodendrocytes", "Glial cells", "Schwann cells", "Chief cells"], "answer": "Schwann cells"},
        {"question": "What do neurons absolutely need to survive?", "options": ["Glucose only", "Oxygen", "Vitamin C", "Calcium"], "answer": "Oxygen"},
        {"question": "The notches between individual myelin sheath segments are called:", "options": ["Axon terminals", "Nodes of Ranvier", "Dendrites", "Synapses"], "answer": "Nodes of Ranvier"},
        {"question": "Which of the following is an example of a sensory receptor stimuli?", "options": ["Thinking", "Pressure", "Running", "Digestion"], "answer": "Pressure"},
        {"question": "What does the hypothalamus control by influencing involuntary actions like sweating?", "options": ["Somatic nervous system", "Autonomic nervous system", "Voluntary muscles", "The digestive teeth"], "answer": "Autonomic nervous system"},
        {"question": "Which cells provide support in the CNS (Central Nervous System)?", "options": ["Schwann cells", "Glial cells and Oligodendrocytes", "Parietal cells", "Dendrites"], "answer": "Glial cells and Oligodendrocytes"},
        {"question": "The end of the nerve cell where signals are passed to the next cell is the:", "options": ["Nucleus", "Axon terminal", "Cell body", "Dendrite"], "answer": "Axon terminal"},
        {"question": "Mechanical digestion differs from chemical digestion because it:", "options": ["Changes the chemical nature of food", "Does NOT change the chemical nature of food", "Only happens in the brain", "Requires hormones"], "answer": "Does NOT change the chemical nature of food"}
    ];

    let currentQuiz = [];
    let activeCards = [];
    let cardIdx = 0;
    let isFlipped = false;

    // --- UTILS ---
    function shuffle(array) {
        for (let i = array.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * (i + 1));
            [array[i], array[j]] = [array[j], array[i]];
        }
        return array;
    }

    function switchMode(mode) {
        document.getElementById('tab-quiz').classList.toggle('active', mode==='quiz');
        document.getElementById('tab-card').classList.toggle('active', mode==='card');
        document.getElementById('quiz-view').style.display = mode==='quiz'?'block':'none';
        document.getElementById('card-view').style.display = mode==='card'?'block':'none';
        
        if(mode === 'quiz') initQuiz();
        if(mode === 'card') initCards();
    }

    // --- QUIZ LOGIC ---
    function initQuiz() {
        currentQuiz = shuffle([...db]);
        const container = document.getElementById('quiz-list');
        container.innerHTML = "";
        
        currentQuiz.forEach((q, i) => {
            const opts = shuffle([...q.options]);
            let html = `<div class="q-block" id="q${i}">
                <div class="q-text">${i+1}. ${q.question}</div>`;
            opts.forEach(opt => {
                html += `<label class="opt"><input type="radio" name="q_${i}" value="${opt}"> ${opt}</label>`;
            });
            html += `<div class="feedback" id="fb_${i}" style="display:none;"></div></div>`;
            container.innerHTML += html;
        });

        document.getElementById('score-display').innerText = "";
        document.getElementById('submit-btn').style.display = "block";
        document.getElementById('retry-btn').style.display = "none";
        window.scrollTo(0,0);
    }

    function gradeQuiz() {
        let score = 0;
        currentQuiz.forEach((q, i) => {
            const sel = document.querySelector(`input[name="q_${i}"]:checked`);
            const fb = document.getElementById(`fb_${i}`);
            fb.style.display = "block";
            
            if (sel && sel.value === q.answer) {
                score++;
                fb.innerHTML = "âœ… Correct";
                fb.className = "feedback correct";
            } else {
                fb.innerHTML = `âŒ Correct answer: ${q.answer}`;
                fb.className = "feedback incorrect";
            }
        });
        
        document.getElementById('score-display').innerText = `You scored ${score} / ${currentQuiz.length}`;
        document.getElementById('submit-btn').style.display = "none";
        document.getElementById('retry-btn').style.display = "block";
        
        // Scroll to score
        document.getElementById('score-display').scrollIntoView({behavior: 'smooth'});
    }

    // --- FLASHCARD LOGIC ---
    function initCards() {
        activeCards = shuffle([...db]);
        cardIdx = 0;
        isFlipped = false;
        renderCard();
    }

    function renderCard() {
        const cardLabel = document.querySelector('.card-label');
        const cardText = document.getElementById('card-text');
        const hint = document.querySelector('.tap-hint');
        const counter = document.getElementById('card-counter');

        if (activeCards.length === 0) {
            cardLabel.innerText = "Complete";
            cardText.innerText = "ðŸŽ‰ All cards mastered!";
            hint.style.display = "none";
            return;
        }

        const current = activeCards[cardIdx];
        hint.style.display = "block";
        counter.innerText = `${cardIdx + 1} / ${activeCards.length} remaining`;

        if (!isFlipped) {
            cardLabel.innerText = "Question";
            cardText.innerText = current.question;
            hint.innerText = "Tap to see answer";
            cardText.style.color = "black";
        } else {
            cardLabel.innerText = "Answer";
            cardText.innerText = current.answer;
            hint.innerText = "Tap to see question";
            cardText.style.color = "#007AFF";
        }
    }

    function flipCard() {
        if(activeCards.length === 0) return;
        isFlipped = !isFlipped;
        renderCard();
    }

    function nextCard(dir) {
        if(activeCards.length === 0) return;
        isFlipped = false;
        cardIdx = (cardIdx + dir + activeCards.length) % activeCards.length;
        renderCard();
    }

    function masterCard() {
        if(activeCards.length === 0) return;
        activeCards.splice(cardIdx, 1);
        if (cardIdx >= activeCards.length) cardIdx = 0;
        isFlipped = false;
        renderCard();
    }

    // Start
    initQuiz();
</script>
</body>
</html>